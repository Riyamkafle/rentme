{% extends 'base.html' %}

{% block content %}
<style>
    /* Add your custom styles here */
    #id_title,
    #id_description,
    #id_location,
    #id_price,
    #id_bedrooms,
    #id_bathrooms,
    #id_image {
        /* Common styles for input fields */
        width: calc(100% - 1rem); /* Reduce width */
        padding: 0.25rem; /* Reduce padding */
        margin-bottom: 0.125rem; /* Adjust margin */
        border: 1px solid #ccc;
        border-radius: 0.125rem;
        outline: none;
        transition: border-color 0.3s;
        font-size: 0.75rem; /* Reduce font size */
    }

    #id_available_for_rent {
        /* Styles for the available_for_rent checkbox */
        margin-right: 0.125rem; /* Adjust margin */
        /* Add more styles as needed */
    }

    #messages-container {
        /* Styles for the messages container */
        /* Add styles here */
    }

    /* Adjust the button size */
    button {
        font-size: 0.875rem;
        padding: 0.5rem;
        margin-top: 0.25rem;
    }
</style>

<div class="min-h-screen flex justify-center items-center">
    <div class="bg-white p-2 rounded-lg shadow-lg max-w-md w-full">
        <h2 class="text-xl font-bold mb-2">Add Property</h2>
        {% if messages %}
        <div id="messages-container" class="p-1 text-center">
            {% for msg in messages %}
            <div class="bg-red-500 text-white p-1 rounded-md mb-1">
                <span>{{ msg.message }}</span>
                <button onclick="closeMessage(this)" class="ml-1 text-white">x</button>
            </div>
            {% endfor %}
        </div>

        <script>
            function closeMessage(button) {
                var messageContainer = button.parentElement;
                messageContainer.style.display = 'none';
            }

            // Automatically hide messages after 3 seconds
            setTimeout(function () {
                var messagesContainer = document.getElementById('messages-container');
                if (messagesContainer) {
                    messagesContainer.style.display = 'none';
                }
            }, 5000);
        </script>
        {% endif %}
        <form method="post" enctype="multipart/form-data">
            {% csrf_token %}

            <div class="mb-1">
                <label for="id_title" class="block text-gray-700 text-xs font-bold mb-0.5">Title</label>
                {{ form.title }}
            </div>

            <div class="mb-1">
                <label for="id_description" class="block text-gray-700 text-xs font-bold mb-0.5">Description</label>
                {{ form.description }}
            </div>

            <div class="mb-1">
                <label for="id_location" class="block text-gray-700 text-xs font-bold mb-0.5">Location</label>
                {{ form.location }}
            </div>

            <div class="mb-1">
                <label for="id_price" class="block text-gray-700 text-xs font-bold mb-0.5">Price</label>
                {{ form.price }}
            </div>

            <div class="mb-1">
                <label for="id_bedrooms" class="block text-gray-700 text-xs font-bold mb-0.5">Bedrooms</label>
                {{ form.bedrooms }}
            </div>

            <div class="mb-1">
                <label for="id_bathrooms" class="block text-gray-700 text-xs font-bold mb-0.5">Bathrooms</label>
                {{ form.bathrooms }}
            </div>

            <div class="mb-1">
                <label for="id_image" class="block text-gray-700 text-xs font-bold mb-0.5">Image URL</label>
                {{ form.image }}
            </div>

            <div class="mb-1">
                <label for="id_available_for_rent" class="flex items-center">
                    {{ form.available_for_rent }}
                    <span class="text-gray-700 text-xs font-bold">Available for rent</span>
                </label>
            </div>

            <button type="submit"
                class="w-full bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 transition duration-300">Submit</button>
        </form>
    </div>
</div>
{% endblock %}
